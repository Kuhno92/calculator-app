// COLORS
// ------

// Status Bar
@statusBarBG:                       #262626;

// Display
@resultTextColor:                   #444;
@resultBgColor:                     #fff;

@equationTextColor:                 #099d93;
@equationOperatorColor:             #999;
@equationBgColor:                   #fff;
@equationSeparatorRuleColor:        #d9d9d9;

@displayRuleColor:                  #e8e8e8;

// Keypad
@keypadTextColor:                   #fff;
@keypadBgColor:                     #333;
@keypadBorderColor:                 #000;
@keypadActiveTextColor:             #fff;
@keypadActiveBgColor:               #099d93;
@keypadSeparatorRuleColor:          #099d93;

@activeTextColor:                   #099d93;
@activeBgColor:                     #000;

@clearTextColor:                    #ff0f0f;
@clearBgColor:                      #262626;
@historyTextColor:                  #bbb;
@historyBgColor:                    #262626;
@backspaceTextColor:                #fff;
@backspaceBgColor:                  #262626;
@bracketTextColor:                  #bbb;
@bracketBgColor:                    #333;
@plusminusTextColor:                #bbb;
@plusminusBgColor:                  #333;
@operatorTextColor:                 #099d93;
@operatorBgColor:                   #333;
@digitTextColor:                    #fff;
@digitBgColor:                      #333;
@decimalTextColor:                  #fff;
@decimalBgColor:                    #333;
@equalsTextColor:                   #099d93;
@equalsBgColor:                     #333;

// History
@historyTitlebarTextColor:          #fff;
@historyTitlebarBgColor:            rgba(9, 157, 147, 0.3);

@historyListTextColor:              #fff;
@historyListEquationColor:          #aaa;
@historyListBgColor:                rgba(0, 0, 0, 0.6);
@historyListBorderColor:            #000;
@historyActiveTextColor:            #fff;
@historyActiveBgColor:              #099d93;

@borderWidth:                       0.5px;



// RESET
// ----------------------------------
 
html, body, div, span, ul, li {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}

button {
	margin: 0;
}



// LAYOUT
// ----------------------------------

* {
	-webkit-box-sizing: border-box;
	   -moz-box-sizing: border-box;
	        box-sizing: border-box;
}

body {
	color: #000;
	background: #fff;
	font-family: -apple-system, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 20px;
	line-height: 24px;
	font-weight: 200;
	width: 100%;
	margin: 0;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	        user-select: none;
}

.calculator {
	position: relative;
	overflow: hidden;
}

button {
	color: @keypadTextColor;
	background: none;
	font-family: -apple-system, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 22px;
	line-height: 20px;
	font-weight: 300;
	border: none;
	width: 100%;
	margin: 0;
	padding: 0;
	transition: color 0.2s ease, background-color 0.2s ease;
	
	&.flash,
	&:active {
		color: @keypadActiveTextColor;
		background-color: @keypadActiveBgColor;
	}
}



// DISPLAY
// ----------------------------------

.result {
	color: @resultTextColor;
	background: @resultBgColor;
	text-align: right;
	font-size: 60px; // Must be updated in JS settings as well
	font-weight: 200;
	border-bottom: @borderWidth solid @equationSeparatorRuleColor;
	width: 100%;
	margin: 0;
	padding: 0 12px;
	
	> span {
		position: relative;
		top: 49%;
		right: 12px;
		margin-right: -12px;
	}
}

.equation {
	color: @equationTextColor;
	background: @equationBgColor;
	text-align: right;
	width: 100%;
	margin-bottom: 0;
	padding: 17px 12px 0;
	white-space: nowrap;
	overflow: hidden;
	
	.eq {
		display: inline;
		
		.operator,
		.left-bracket,
		.right-bracket {
			color: @equationOperatorColor;
			font-weight: 100;
			margin: 0 5px;
		}
		
		.left-bracket {
			margin-left: 0;
		}
		
		.right-bracket {
			margin-right: 0;
		}
	}
}



// HISTORY
// ----------------------------------

.history {
	position: absolute;
	bottom: 0;
	left: 0;
	background-color: @historyListBgColor;
	-webkit-backdrop-filter: blur(10px);
	        backdrop-filter: blur(10px);
	width: 100%;
	z-index: 90;
	-webkit-transform: translateY(100%);
	        transform: translateY(100%);
	-webkit-transition: transform 0.35s cubic-bezier(0.66, 0, 0.33, 1);
	        transition: transform 0.35s cubic-bezier(0.66, 0, 0.33, 1);
}

.history-titlebar {
	position: relative;
	color: @historyTitlebarTextColor;
	background-color: @historyTitlebarBgColor;
	text-align: center;
	font-family: -apple-system, "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size: 17px;
	line-height: 22px;
	font-weight: bold;
	padding: 12px;
}

.history-close {
	position: absolute;
	top: 0;
	right: 0;
	text-align: right;
	font-size: 22px;
	font-weight: 100;
	width: 48px;
	height: 46px;
	padding: 9px 12px 0;
}

.history-list-scroll {
	height: ~"calc(100% - 52px)"; // 100% subtract titlebar and border thickness
	overflow-y: scroll;
	-webkit-overflow-scrolling: touch;
}

.history-list {
	list-style: none;
	
	li {
		border-bottom: @borderWidth solid @historyListBorderColor;
	}
	
	button {
		color: @historyListTextColor;
		background-color: transparent;
		text-align: left;
		padding: 10px 12px;
		
		&:active {
			color: @historyActiveTextColor;
			background-color: @historyActiveBgColor;
		}
	}
	
	.equ {
		float: right;
		color: @historyListEquationColor;
		font-size: 13px;
		line-height: 20px;
		max-width: 100%;
		padding: 3px 0 0 5px;
		white-space: nowrap;
		text-align: right;
		text-overflow: ellipsis;
		overflow: hidden;
		
		span {
			margin: 0 3px;
		}
	}
}

.history--open {
	.history {
		-webkit-transform: translateY(0);
		        transform: translateY(0);
	}
}



// KEYPAD
// ----------------------------------

.keypad {
	position: absolute;
	bottom: 0;
	width: 100%;
	background: @keypadBgColor;
	border-top: 6px solid @keypadSeparatorRuleColor;
	
	button {
		float: left;
		border: @borderWidth solid @keypadBorderColor;
		width: 25%;
		
		&.btn-history,
		&.btn-equals {
			width: 50%;
		}
		
		&.active {
			color: @activeTextColor;
			border: 1.5px solid @activeBgColor;
		}
	}
}

.btn-clear {
	color: @clearTextColor;
	background-color: @clearBgColor;
}

.btn-history {
	color: @historyTextColor;
	background-color: @historyBgColor;
	font-size: 18px;
}

.btn-backspace {
	color: @backspaceTextColor;
	background-color: @backspaceBgColor;
	background-image: url("../assets/backspace-icon.svg");
	background-repeat: no-repeat;
	background-position: center center;
	background-size: 25px 16px;
}

.btn-plus-minus {
	color: @plusminusTextColor;
	background-color: @plusminusBgColor;
	letter-spacing: 2px;
}

.btn-bracket {
	color: @bracketTextColor;
	background-color: @bracketBgColor;
}

.btn-operator {
	color: @operatorTextColor;
	background-color: @operatorBgColor;
	font-size: 26px;
}

.btn-digit {
	color: @digitTextColor;
	background-color: @digitBgColor;
}

.btn-decimal {
	color: @decimalTextColor;
	background-color: @decimalBgColor;
}

.btn-equals {
	color: @equalsTextColor;
	background-color: @equalsBgColor;
	font-size: 26px;
}



// iPhone 4 and lower
// ----------------------------------

@media (min-height: 460px) {
	.calculator {
		height: 460px;
	}
	
	.result {
		height: 100px;
	}
	
	.keypad button {
		height: 50px;
	}
	
	.history {
		height: 300px;
	}
}



// iPhone 5, 5s & 5c
// ----------------------------------

@media (min-height: 548px) {
	.calculator {
		height: 548px;
	}
	
	.result {
		height: 140px;
	}
	
	.keypad button {
		height: 58px;
	}
	
	.history {
		height: 348px;
	}
}



// iPhone 6
// ----------------------------------

@media (min-height: 647px) {
	.calculator {
		height: 647px;
	}
	
	.result {
		height: 140px;
	}
	
	.keypad button {
		height: 74px;
	}
	
	.history {
		height: 444px;
	}
}



// iPhone 6+
// ----------------------------------

@media (min-height: 716px) {
	.calculator {
		height: 716px;
	}
	
	.result {
		height: 145px;
	}
	
	.keypad button {
		height: 85px;
	}
	
	.history {
		height: 510px;
	}
}



// INSTALL SCREEN
// ----------------------------------

.installation {
	display: none;
}

.install {
	background: #383838;
	background-attachment: fixed;
	height: 100%;
	
	.calculator {
		display: none;
	}
	
	.installation {
		display: block;
	}
}
	
.installation {
	margin: 0 auto;
	width: 175px;
}

.instructions {
	position: absolute;
	top: 50%;
	color: #d9d9d9;
	text-align: center;
	font-size: 14px;
	line-height: 20px;
	text-shadow: 0 1px 2px #000;
	width: 175px;
	height: 180px;
	margin-top: -90px;
	
	span {
		font-family: -apple-system, "Helvetica Neue", Helvetica, Arial, sans-serif;
		font-size: 16px;
		font-weight: 800;
	}
}

.app-icon {
	background: url("../assets/app-icon-large.png") no-repeat;
	background-size: 125px 125px;
	width: 125px;
	height: 125px;
	margin: 0 auto 20px;
}

.twitter {
	position: fixed;
	bottom: 20px;
	left: 50%;
	color: @keypadActiveBgColor;
	text-align: center;
	font-size: 14px;
	line-height: 20px;
	text-decoration: none;
	text-shadow: 0 1px 2px #000;
	width: 130px;
	margin-left: -65px;
	
	&:hover {
		color: #d9d9d9;
	}
}
